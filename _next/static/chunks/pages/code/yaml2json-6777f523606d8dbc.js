(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7213],{874:function(e,t,n){"use strict";var a=n(16935),s={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,c,r,l,i,u,d,m=!1;t||(t={}),c=t.debug||!1;try{if(l=a(),i=document.createRange(),u=document.getSelection(),(d=document.createElement("span")).textContent=e,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function(n){if(n.stopPropagation(),t.format){if(n.preventDefault(),void 0===n.clipboardData){c&&console.warn("unable to use e.clipboardData"),c&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=s[t.format]||s.default;window.clipboardData.setData(a,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e)}t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))}),document.body.appendChild(d),i.selectNodeContents(d),u.addRange(i),!document.execCommand("copy"))throw Error("copy command was unsuccessful");m=!0}catch(a){c&&console.error("unable to copy using execCommand: ",a),c&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),m=!0}catch(a){c&&console.error("unable to copy using clipboardData: ",a),c&&console.error("falling back to prompt"),n="message"in t?t.message:"Copy to clipboard: #{key}, Enter",o=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",r=n.replace(/#{\s*key\s*}/g,o),window.prompt(r,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(i):u.removeAllRanges()),d&&document.body.removeChild(d),l()}return m}},25076:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/code/yaml2json",function(){return n(2247)}])},21278:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(80284),s=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},c=n(27269),r=s.forwardRef(function(e,t){return s.createElement(c.Z,(0,a.Z)({},e,{ref:t,icon:o}))})},95561:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(80284),s=n(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},c=n(27269),r=s.forwardRef(function(e,t){return s.createElement(c.Z,(0,a.Z)({},e,{ref:t,icon:o}))})},62863:function(e,t,n){"use strict";var a=n(8675),s=n(874),o=n.n(s),c=n(75271);class r extends c.Component{render(){let{children:e,tag:t}=this.props;return c.createElement(t,{onClick:this.onClick},e)}constructor(...e){super(...e),this.onClick=e=>{let{children:t,text:n,onSuccess:a,options:s}=this.props,r=c.Children.only(t),l="function"==typeof n?n():n,i=o()(l,s);a&&a(l,i),(null==r?void 0:r.props)&&"function"==typeof r.props.onClick&&r.props.onClick(e)}}}r.defaultProps={tag:"span",text:"",onSuccess(){a.ZP.success("已将内容复制到剪贴板")},options:{}},t.Z=Object.assign(r,{copy:o()})},2247:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(52676),s=n(95561),o=n(21278),c=n(8675),r=n(48707),l=n(33858),i=n(80487),u=n(39253),d=n.n(u),m=n(75271),f=n(76779),p=n.n(f),x=n(62863),h=n(42884),y=n(32790);function v(){let[e,t]=(0,m.useState)("yaml"),[n,u]=(0,m.useState)(),[f,v]=(0,m.useState)();(0,m.useEffect)(()=>{if("yaml"===e){let e=function(e){if(!e)return"";try{let t=i.ZP.load(e);if(t)return JSON.stringify(t,null,"  ");c.ZP.error("转换失败")}catch(e){console.error(e),c.ZP.error(e.message)}}(n);e&&v(e)}},[n,e]),(0,m.useEffect)(()=>{if("json"===e){let e=function(e){let t;if(!e)return"";try{t=JSON.parse(e)}catch(e){}try{if(t){let e=i.ZP.dump(t);if(e)return e;c.ZP.error("转换失败")}}catch(e){console.error(e),c.ZP.error(e.message)}}(f);e&&u(e)}},[f,e]);let g=(0,m.useCallback)(()=>{v(void 0),u(void 0),"yaml"===e?t("json"):t("yaml")},[e]),b=(0,m.useCallback)(()=>{"yaml"===e?u(y.d.yaml):v(y.d.json)},[e]),j=(0,m.useCallback)(t=>{"yaml"===e?u(t):v(t)},[e]),w=(0,m.useCallback)(t=>{console.log("target ".concat({json:"yaml",yaml:"json"}[e]," changed."),t)},[e]),C=()=>(0,a.jsx)(h.Z,{value:n,language:"yaml",onChange:"yaml"===e?j:w,options:{theme:"vs-dark",readOnly:"yaml"!==e}}),k=()=>(0,a.jsx)(h.Z,{value:f,language:"json",onChange:"yaml"===e?w:j,options:{theme:"vs-dark",readOnly:"yaml"===e}});return(0,a.jsxs)("div",{className:"relative flex min-h-[100vh] flex-1 flex-col bg-white",children:[(0,a.jsx)(r.Z,{className:"!m-6",items:[{title:(0,a.jsx)(d(),{href:"/",children:"小工具集合"})},{title:"Yaml2Json"}]}),(0,a.jsxs)(p(),{className:"flex-1",split:"vertical",minSize:50,maxSize:75,children:[(0,a.jsxs)("div",{className:"overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between border-b border-black/20 px-6 py-4",children:[(0,a.jsx)("h2",{className:"text-lg font-medium leading-[32px]",children:e.toUpperCase()}),(0,a.jsxs)("div",{className:"flex items-center space-x-5",children:[(0,a.jsx)(l.ZP,{className:"!inline-flex items-center",icon:(0,a.jsx)(s.Z,{rev:void 0}),onClick:b,children:"案例"}),(0,a.jsx)(x.Z,{text:"yaml"===e?n:f,onSuccess:()=>{c.ZP.success("复制成功")},children:(0,a.jsx)(l.ZP,{className:"!inline-flex items-center",icon:(0,a.jsx)(o.Z,{rev:void 0}),children:"拷贝"})})]})]}),"yaml"===e?C():k()]}),(0,a.jsxs)("div",{className:"overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between border-b border-black/20 px-6 py-4",children:[(0,a.jsx)("h2",{className:"text-lg font-medium leading-[32px]",children:({json:"yaml",yaml:"json"})[e].toUpperCase()}),(0,a.jsxs)("div",{className:"flex items-center space-x-5",children:[(0,a.jsx)(l.ZP,{className:"!inline-flex items-center",icon:(0,a.jsx)("span",{className:"anticon anticon-file-text",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-[14px] w-[14px]",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})})}),onClick:g,children:"交换"}),(0,a.jsx)(x.Z,{text:"yaml"===e?f:n,onSuccess:()=>{c.ZP.success("复制成功")},children:(0,a.jsx)(l.ZP,{className:"!inline-flex items-center",icon:(0,a.jsx)(o.Z,{rev:void 0}),children:"拷贝"})})]})]}),"yaml"===e?k():C()]})]})]})}},16935:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}}},function(e){e.O(0,[7585,8634,2980,7672,3779,9045,3858,8675,6779,487,2751,2888,9774,179],function(){return e(e.s=25076)}),_N_E=e.O()}]);